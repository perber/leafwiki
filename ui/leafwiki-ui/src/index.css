/* -------------------------------------------------------
   Tailwind Imports
------------------------------------------------------- */
@import 'tailwindcss';

@plugin 'tailwindcss-animate';
@plugin '@tailwindcss/typography';

/* Dark mode variant */
@custom-variant dark (&:is(.dark *));

/* -------------------------------------------------------
   TAILWIND THEME TOKENS (Design Tokens)
   → Nur hier definiert Tailwind neue Klassen
------------------------------------------------------- */
@theme {
  /* Typography + Radii */
  --font-sans: InterVariable, system-ui, sans-serif;
  --radius: 0.5rem;
  --radius-lg: 0.5rem;
  --radius-md: 0.375rem;
  --radius-sm: 0.25rem;

  /* Shadcn semantic colors (mapped to HSL vars) */
  --color-background: hsl(var(--background));
  --color-foreground: var(--color-gray-900);
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-primary: hsl(var(--primary));
  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  /** Leafwiki overwrites shadcn colors with Tailwind colors **/
  --color-destructive: var(--color-red-600);
  --color-destructive-foreground: var(--color-white);
  --color-border: var(--color-gray-200);

  /* page content background and text colors */
  --color-page-bg: var(--color-white);
  --color-page-text: var(--color-gray-900);

  /* Brand (Akzentfarbe) */
  --color-brand: var(--color-green-700);
  /* #4CAF50 -  */
  --color-brand-dark: var(--color-green-800);
  --color-brand-light: var(--color-green-300);
  /* #A5D6A7 */

  /* Panel / Surface */
  --color-surface: var(--color-slate-50);
  /* slate-50 */
  --color-surface-alt: var(--color-slate-100);
  /* slate-100 */

  /* Text / Border */
  --color-interface-text: var(--color-gray-700);
  /* gray-700 */
  --color-surface-border: var(--color-gray-300);
  /* gray-300 */
  --color-error: var(--color-red-600);
  /* green-600 */
  --color-success: var(--color-green-600);
  --color-success-foreground: var(--color-white);
  /* yellow-600 */
  --color-warning: var(--color-yellow-600);
  /* markdown-toolbar-bg */
  --color-markdown-toolbar: #282c34;
  --color-markdown-toolbar-border: var(--color-zinc-900);
  --color-markdown-toolbar-text: var(--color-white);

  --color-muted: var(--color-gray-500);
  --color-muted-foreground: var(--color-gray-500);
  --color-table-header-bg: var(--color-slate-200);
  --color-table-header-border: var(--color-gray-300);

  --color-headline-anchor-icon: var(--color-gray-600);
  --color-headline-anchor-icon-hover: var(--color-gray-900);
}

/* -------------------------------------------------------
   BASE LAYER — global defaults, Shadcn theme, dark mode
------------------------------------------------------- */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }

  /* Tailwind v4 border compatibility fix */
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-page-text font-sans;
  }

  button:not(:disabled),
  [role='button']:not(:disabled) {
    cursor: pointer;
  }
}

/* -------------------------------------------------------
   COMPONENTS LAYER — Sidebar, custom UI parts
------------------------------------------------------- */
@layer components {
  /* Sidebar */
  .sidebar {
    @apply bg-surface flex h-full w-full flex-col overflow-hidden;
  }

  .sidebar__inner {
    @apply bg-surface block h-full w-full;
  }

  .sidebar__tabs {
    @apply border-b-surface-border bg-surface flex h-12 items-center border-b pr-2 pl-2;
  }

  .sidebar__tabs-list {
    @apply bg-surface flex text-sm;
  }

  .sidebar__tab-button {
    @apply -mb-px flex items-center gap-1 px-3 py-1.5;
  }

  .sidebar__tab-button--active {
    @apply text-brand border-brand hover:text-brand;
  }

  .sidebar__tab-button--inactive {
    @apply hover:text-brand border-transparent text-gray-500;
  }

  .sidebar__content {
    @apply h-[calc(100%-48px)] w-full;
  }

  /* App Layout */
  .app-layout__header {
    @apply bg-surface fixed z-20 h-[85px] w-full border-b p-4;
  }

  .app-layout__header-inner {
    @apply flex h-full items-center justify-start;
  }

  .app-layout__sidebar-toggle-container {
    @apply flex min-h-full w-6 items-center;
  }

  .app-layout__sidebar-toggle-button {
    @apply relative z-20 h-5 w-5 p-2;
  }

  .app-layout__logo-n-title {
    @apply mr-6 ml-6 flex min-h-full items-center gap-2;
  }

  .app-layout__logo-n-title h2 {
    @apply text-xl font-bold;
  }

  .app-layout__editor-title-bar-container {
    @apply flex min-h-full flex-1 items-center justify-center;
  }

  .app-layout__editor-toolbar-container {
    @apply flex min-h-full items-center gap-4;
  }

  .app-layout__header-spacer {
    @apply h-[85px] w-full;
  }

  .app-layout__content-wrapper {
    @apply flex h-[calc(100dvh-85px)];
  }

  .app-layout__sidebar-container {
    @apply relative z-20 box-border h-full overflow-auto pr-1 max-sm:fixed max-sm:h-[calc(100dvh-85px)];
  }

  .app-layout__sidebar-resizer {
    @apply absolute inset-y-0 right-0 flex w-1 cursor-col-resize items-center justify-center;
  }

  .app-layout__sidebar-resize-handle {
    @apply pointer-events-none my-4 h-full w-full transition-colors;
  }

  .app-layout__sidebar-resize-handle-hover {
    @apply bg-brand-light;
  }

  .app-layout__sidebar-resize-handle-default {
    @apply bg-surface-border;
  }

  .app-layout__sidebar-overlay-mobile {
    @apply fixed inset-0 top-[85px] z-10 bg-black/50 max-sm:h-[calc(100dvh-85px)];
  }

  .app-layout__main-content-area {
    @apply flex-1 transition-all duration-200;
  }

  .app-layout__main-content-area-viewer {
    @apply border-surface-border overflow-auto border-t border-r border-l;
  }

  .app-layout__main-content-area-editor {
    @apply overflow-hidden;
  }

  /** Base Dialog Styles **/
  .base-dialog__footer {
    @apply mt-6 flex justify-end gap-2;
  }

  /* Form Input Styles */
  .form-input {
    @apply space-y-1;
  }

  .form-input__label {
    @apply text-interface-text block text-sm font-medium;
  }

  .form-input__error {
    @apply text-error text-sm;
  }

  .form-input__input-error {
    @apply border-error;
  }

  /** Page 404 **/
  .page404 {
  }

  .page404__title {
    @apply text-error mb-2 text-xl;
  }

  .page404__text {
    @apply text-page-text text-sm;
  }

  /** pagination **/
  .pagination {
    @apply text-interface-text mt-4 flex items-center justify-center gap-2 text-sm;
  }

  .pagination__button {
    @apply border-surface-border text-interface-text bg-surface hover:bg-surface-alt rounded border px-2 py-1 disabled:cursor-not-allowed disabled:opacity-50;
  }

  .pagination__info {
    @apply text-interface-text;
  }

  /* TooltipWrapper Component */
  .tooltip-wrapper__content {
    @apply bg-surface-alt text-interface-text rounded px-2 py-1 shadow-sm;
  }

  /* UserToolbar Component */
  .user-toolbar {
    @apply ml-auto flex items-center gap-4;
  }

  .user-toolbar__avatar {
    @apply bg-surface-alt h-8 w-8;
  }

  .user-toolbar__avatar-fallback {
    @apply bg-surface-alt font-medium;
  }

  .user-toolbar__not-logged-in {
    @apply text-error text-sm;
  }

  .user-toolbar__login-button {
    @apply bg-brand hover:bg-brand-dark rounded px-3 py-2 text-sm text-white;
  }

  .user-toolbar__menu-item {
    @apply text-interface-text hover:bg-surface-alt cursor-pointer;
  }

  .user-toolbar-dropdown-trigger {
    @apply flex items-center space-x-2 focus:outline-hidden;
  }

  /* AssetItem Component */

  .asset-item {
    @apply bg-surface hover:bg-surface-alt flex cursor-pointer items-center justify-between gap-2 rounded-md px-2 py-1 transition;
  }

  .asset-item__preview-image {
    @apply border-surface-border bg-surface-alt h-10 w-10 rounded border object-cover;
  }

  .asset-item__preview-file {
    @apply border-surface-border bg-surface-alt text-muted flex h-10 w-10 items-center justify-center rounded border;
  }

  .asset-item__filename {
    @apply text-interface-text truncate text-sm hover:underline;
  }

  .asset-item__filename--editing-input {
    @apply border-surface-border text-interface-text w-full border-b bg-transparent text-sm focus:outline-hidden;
  }

  .asset-item__action-button {
    @apply text-muted! hover:text-brand!;
  }

  .asset-item__action-button--save {
    @apply text-brand! hover:text-brand-dark!;
  }

  .asset-item__action-button--cancel {
    @apply text-error! hover:text-error!;
  }

  .asset-item__action-button--delete {
    @apply text-muted! hover:text-error!;
  }

  /* AssetManager Component */
  .asset-manager {
    @apply text-interface-text space-y-3 text-sm;
  }

  .asset-manager__title {
    @apply text-interface-text font-semibold;
  }

  .asset-manager__dropzone {
    @apply border-surface-border text-interface-text bg-surface flex cursor-pointer flex-col items-center justify-center rounded-md border border-dashed p-4 text-center transition;
  }

  .asset-manager__dropzone--dragging {
    @apply border-brand bg-brand/5 text-brand;
  }

  .asset-manager__dropzone--hover {
    @apply border-surface-border bg-surface-alt;
  }

  .asset-manager__dropzone-icon {
    @apply mb-2;
  }

  .asset-manager__dropzone-text {
    @apply text-interface-text text-xs;
  }

  .asset-manager__dropzone-uploading {
    @apply text-brand text-xs;
  }

  .asset-manager__list-container {
    @apply h-96;
  }

  .asset-manager__loading {
    @apply text-muted text-xs;
  }

  .asset-manager__empty {
    @apply text-muted text-xs italic;
  }

  .asset-manager__list {
    @apply h-full space-y-2 overflow-y-auto;
  }

  .asset-manager__tip {
    @apply text-muted mt-2 text-xs italic;
  }

  /** AssetManager Dialog **/
  .asset-manager-dialog__content {
    @apply max-w-4xl;
  }

  /* AssetPreviewTooltip */
  .asset-preview-tooltip__content {
    @apply border-surface-border bg-surface z-50 max-w-sm rounded border p-2 shadow-lg;
  }

  .asset-preview-tooltip__image {
    @apply border-surface-border max-h-[300px] max-w-[300px] rounded border;
  }

  .asset-preview-tooltip__file {
    @apply text-interface-text flex items-center gap-2 text-sm;
  }

  /* Login Form*/
  .login {
    @apply border-surface-border bg-surface text-interface-text h-screen w-96 border-r shadow-md;
  }

  .login__form {
    @apply w-full p-4;
  }

  .login__title {
    @apply text-interface-text mb-4 text-xl font-bold;
  }

  .login__field {
    @apply mb-4;
  }

  .login__error {
    @apply text-error mb-4 text-sm;
  }

  .login__submit {
    @apply w-full;
  }

  .editor-title-bar {
    @apply flex flex-1 flex-col items-center;
  }

  .editor-title-bar__button {
    @apply text-interface-text relative flex items-center gap-1 text-base font-semibold hover:underline;
  }

  .editor-title-bar__title {
    @apply inline-block max-w-[15vw] truncate sm:max-w-[40vw];
  }

  .editor-title-bar__icon {
    @apply text-muted absolute top-1/2 -right-6 -translate-y-1/2 transition-transform duration-200 ease-in-out;
  }

  .editor-title-bar__button:hover .editor-title-bar__icon {
    @apply text-interface-text;
  }

  .editor-title-bar__dirty-indicator {
    @apply text-warning ml-2 text-xs;
  }

  .editor-title-bar__slug {
    @apply bg-surface-alt text-interface-text mt-1 inline-block max-w-[15vw] truncate rounded px-2 py-0.5 font-mono text-xs sm:max-w-[40vw];
  }

  /** Markdown Code Editor **/
  .markdown-code-editor {
    @apply h-full w-full rounded shadow-xs;
  }

  /** markdown-editor **/
  .markdown-editor {
    @apply flex h-full w-full flex-col overflow-hidden;
  }

  /* Mobile layout */
  .markdown-editor__mobile {
    @apply flex h-full w-full flex-col;
  }

  .markdown-editor__tabs {
    @apply border-surface-border text-interface-text mb-2 flex border-b text-sm;
  }

  .markdown-editor__tab-button {
    @apply -mb-px flex flex-1 items-center justify-center gap-1 border-b-2 px-3 py-1.5;
  }

  .markdown-editor__tab-button--active {
    @apply border-brand text-brand font-semibold;
  }

  .markdown-editor__tab-button--inactive {
    @apply text-interface-text hover:text-brand border-transparent;
  }

  /* Shared scroll pane */
  .markdown-editor__pane-container {
    @apply flex max-w-none flex-1 overflow-auto;
  }

  .markdown-editor__pane {
    @apply w-full;
  }

  .markdown-editor__pane--hidden {
    @apply hidden;
  }

  /* Desktop mode */
  .markdown-editor__editor-pane {
    @apply flex max-w-none flex-1 overflow-auto;
  }

  .markdown-editor__editor-pane--half {
    @apply w-1/2;
  }

  .markdown-editor__editor-pane--full {
    @apply w-full;
  }

  .markdown-editor__divider {
    @apply bg-surface-border h-full w-1;
  }

  .markdown-editor__preview-container {
    @apply w-1/2 max-w-none flex-1;
  }

  /* Preview styling */
  .markdown-editor__preview {
    @apply prose prose-base box-content h-full w-full overflow-auto;
  }

  .markdown-editor__preview-inner {
    @apply p-4;
  }

  /* Markdown Editor Toolbar */
  .markdown-toolbar {
    @apply border-markdown-toolbar-border bg-markdown-toolbar sticky top-0 z-10 flex min-h-12 flex-wrap items-center gap-1.5 border-b pr-2 pl-2 shadow-xs;
  }

  .markdown-toolbar__button {
    @apply text-markdown-toolbar-text hover:text-markdown-toolbar-text/80;
  }

  .markdown-toolbar__button--desktop-only {
    @apply max-md:hidden;
  }

  .markdown-toolbar__separator {
    @apply bg-surface-border/60 mx-1 h-5 w-px self-center;
  }

  .markdown-toolbar__separator--desktop-only {
    @apply max-md:hidden;
  }

  .markdown-toolbar__icon {
    @apply h-4 w-4;
  }

  /** PageEditor **/
  .page-editor {
    @apply h-full w-full overflow-hidden;
  }

  .page-editor__error {
    @apply text-error p-6 text-sm;
  }

  .page-editor__not-found {
    @apply p-6;
  }

  .toolbar-button__close-editor {
    @apply rounded-full!;
  }

  .toolbar-button__save-page {
    @apply bg-success! text-success-foreground! hover:bg-success/80! rounded-full!;
  }

  /* Shared page dialog styles */
  .page-dialog__fields {
    @apply space-y-4;
  }

  .dialog__path {
    @apply text-muted font-mono text-xs;
  }

  /* Add / Copy / Create-by-path dialogs */

  .create-page-by-path-dialog__alert {
    @apply bg-error/10 text-error rounded-md p-4 text-sm;
  }

  .create-page-by-path-dialog__lookup-title {
    @apply text-interface-text text-sm font-semibold;
  }

  .create-page-by-path-dialog__lookup-list {
    @apply bg-surface-alt mt-2 h-24 list-inside list-none space-y-4 overflow-auto rounded-md p-1;
  }

  .create-page-by-path-dialog__lookup-item {
    @apply text-interface-text mb-1 flex items-center gap-1 text-xs;
  }

  .create-page-by-path-dialog__lookup-item-icon--ok {
    @apply text-success;
  }

  .create-page-by-path-dialog__lookup-item-icon--missing {
    @apply text-error;
  }

  .create-page-by-path-dialog__lookup-item-slug {
    @apply font-mono;
  }

  /* Delete dialog */

  .delete-page-dialog__recursive {
    @apply text-muted space-y-1 text-sm;
  }

  .delete-page-dialog__recursive-label {
    @apply flex items-center gap-2;
  }

  /* Sort pages dialog */

  .sort-pages-dialog__list {
    @apply space-y-2;
  }

  .sort-pages-dialog__item {
    @apply bg-surface flex items-center justify-between rounded-lg border px-3 py-2 transition hover:shadow-xs;
  }

  .sort-pages-dialog__item-title {
    @apply text-interface-text truncate text-sm;
  }

  .sort-pages-dialog__item-actions {
    @apply flex gap-1;
  }

  /** Search **/

  .search {
    @apply mt-2;
  }

  .search__input-wrapper {
    @apply relative mb-4;
  }

  .search__input {
    @apply border-surface-border bg-surface text-interface-text w-full rounded-md border px-2 py-1 pr-8 text-sm;
  }

  .search__clear-button {
    @apply text-muted hover:text-interface-text absolute top-1/2 right-1 -translate-y-1/2 text-sm;
  }

  .search__body {
    @apply mb-4;
  }

  .search__status {
    @apply text-sm;
  }

  .search__status--loading,
  .search__status--empty {
    @apply text-muted;
  }

  .search__result-summary {
    @apply text-interface-text mb-2 text-sm;
  }

  .search__results {
    @apply space-y-4;
  }

  /* SearchResultCard */

  .search-result-card {
    @apply border-border bg-surface block rounded-sm border p-4 shadow-xs transition;
  }

  .search-result-card--active {
    @apply border-border bg-surface-alt shadow-md;
  }

  .search-result-card--inactive {
    @apply hover:bg-surface-alt hover:shadow-md;
  }

  .search-result-card__title {
    @apply text-brand mb-1 text-base break-words whitespace-normal;
  }

  .search-result-card__excerpt {
    @apply text-interface-text mb-2 text-sm break-words whitespace-normal;
  }

  .search-result-card__path {
    @apply text-muted mt-2 text-xs;
  }

  .search-result-card b {
    @apply text-brand-dark font-semibold;
  }

  /* user management */
  .user-management {
    @apply mx-auto max-w-4xl p-6;
  }

  .user-management__title {
    @apply text-interface-text mb-4 text-2xl font-bold;
  }

  .user-management__header-actions {
    @apply flex justify-end;
  }

  .user-management__table-card {
    @apply border-surface-border bg-surface mt-4 rounded-md border shadow-sm;
  }

  .user-management__table-scroll {
    @apply overflow-x-auto;
  }

  .user-management__table {
    @apply w-full text-sm;
  }

  .user-management__table-head {
    @apply bg-surface-alt text-left;
  }

  .user-management__table-header-cell {
    @apply text-interface-text p-3;
  }

  .user-management__table-body-message {
    @apply text-muted p-4 text-center;
  }

  .user-management__table-row {
    @apply border-surface-border border-t;
  }

  .user-management__table-cell {
    @apply text-interface-text p-3;
  }

  .user-management__actions-cell {
    @apply p-3;
  }

  .user-management__actions {
    @apply flex gap-2;
  }

  .user-management__role-pill {
    @apply rounded px-2 py-1 text-xs font-medium;
  }

  .user-management__role-pill--admin {
    @apply bg-brand/10 text-brand;
  }

  .user-management__role-pill--default {
    @apply bg-surface-alt text-interface-text;
  }

  .breadcrumbs-nav {
    @apply text-muted flex w-full flex-1 grow text-sm;
  }

  .breadcrumbs-nav__list {
    @apply flex flex-wrap items-center gap-1;
  }

  .breadcrumbs-nav__item {
    @apply flex items-center gap-1;
  }

  .breadcrumbs-nav__separator {
    @apply text-muted;
  }

  .breadcrumbs-nav__current {
    @apply text-interface-text font-semibold;
  }

  .breadcrumbs-nav__link {
    @apply text-interface-text hover:underline;
  }

  /* readonly input */
  input[readonly] {
    @apply bg-surface-alt! cursor-not-allowed;
  }

  .page-viewer {
    @apply mx-auto max-w-6xl px-8 py-8;
  }

  .page-viewer__error {
    @apply text-error p-6;
  }

  .page-viewer__content {
    @apply prose prose-base text-page-text mt-6 max-w-full leading-relaxed;
  }

  /* Markdown content tweaks */
  .page-viewer__content img {
    height: auto;
    max-width: 100%;
  }

  .page-viewer__content li {
    @apply leading-snug;
  }

  .table-wrapper {
    @apply max-w-full overflow-auto;
  }

  .table-wrapper table {
    @apply w-full border-collapse;
  }

  .table-wrapper tbody th,
  .table-wrapper tbody td {
    @apply border-border border px-4 py-2;
  }

  .table-wrapper tbody tr:nth-child(odd) {
    @apply bg-surface-alt;
  }

  .table-wrapper thead tr {
    @apply bg-table-header-bg border-table-header-border border text-left font-medium;
  }
  .table-wrapper thead th,
  .table-wrapper thead td {
    @apply border-table-header-border border px-4 py-2;
  }

  .page-viewer__content ol ol,
  .page-viewer__content ol ul,
  .page-viewer__content ul ol,
  .page-viewer__content ul ul {
    @apply mt-0 mb-0;
  }

  .page-viewer__content ul > li::marker {
    color: var(--page-text);
  }
}

/* -------------------------------------------------------
   UTILITIES LAYER — Markdown, tables, custom scrollbars
------------------------------------------------------- */
@layer utilities {
  html,
  body {
    @apply bg-page-bg text-page-text font-sans;
  }

  /* Scrollbars */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.18);
    border-radius: 9999px;
  }

  .custom-scrollbar:hover::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.28);
  }

  /* Inline code */
  .inline-code {
    @apply rounded bg-gray-200 p-0.5 px-1 font-mono text-xs font-medium text-gray-700;
  }

  .inline-code::after,
  .inline-code::before {
    content: '';
  }

  /* Highlight.js */
  .hljs {
    background: #1f2937 !important;
  }
}

/* -------------------------------------------------------
   CONTENT LAYER — Markdown anchor styling etc.
------------------------------------------------------- */
@layer content {
  main a {
    @apply text-brand hover:text-brand-dark no-underline;
  }

  main article .anchor,
  #markdown-preview-container .anchor {
    position: relative;
  }

  main article .anchor a,
  #markdown-preview-container .anchor a {
    @apply text-interface-text;
  }

  main article .anchor:hover a,
  #markdown-preview-container .anchor:hover a {
    @apply text-interface-text dark:text-interface-text;
  }

  main article .anchor a span,
  #markdown-preview-container .anchor a span {
    @apply text-headline-anchor-icon hover:text-headline-anchor-icon-hover absolute top-1/2 -left-5 -translate-y-1/2 opacity-0 transition-opacity duration-200;
  }

  main article .anchor a:hover span {
    @apply opacity-100;
  }
}

/* -------------------------------------------------------
   PRINT LAYOUT
------------------------------------------------------- */
@media print {
  @page {
    margin: 1cm;
  }

  html,
  body {
    background-color: #ffffff;
    margin: 0;
  }

  .breadcrumbs-nav {
    margin-top: 20px;
  }

  #sidebar-container,
  header,
  .sidebar-wrapper {
    display: none;
  }

  #sidebar-container {
    width: 0 !important;
  }

  .app-layout__content-wrapper {
    width: 100%;
    overflow: visible;
    height: auto;
    padding: 0;
  }

  main {
    width: 100%;
    padding: 0;
    border: 0;
  }

  .app-layout__header-spacer {
    height: 0;
  }
}
